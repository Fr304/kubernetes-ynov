# ============================================================
# cluster.env — Variables spécifiques au cluster AlgoHive
# ============================================================
# Ce fichier centralise toutes les valeurs à adapter
# lors d'un redéploiement sur un autre environnement.
#
# Fichiers qui utilisent ces variables :
#   - kubeadm/setup-master.sh         (sourcé automatiquement)
#   - kubeadm/setup-worker.sh         (sourcé automatiquement)
#   - kubeadm/kubeadm-config.yaml     (adapter manuellement)
#   - metallb/10-ipaddresspool.yaml   (adapter manuellement)
#   - kube-prometheus/values.yaml     (adapter manuellement)
# ============================================================

# -----------------------------------------------------------
# Nœuds du cluster
# -----------------------------------------------------------
MASTER_IP=192.168.1.142
MASTER_HOSTNAME=ubuntu-kubernetes-master

WORKER_1_IP=192.168.1.143
WORKER_1_HOSTNAME=ubuntu-kubernetes-slave-1

WORKER_2_IP=192.168.1.26
WORKER_2_HOSTNAME=ubuntu-kubernetes-slave-2

WORKER_3_IP=192.168.1.51
WORKER_3_HOSTNAME=ubuntu-kubernetes-slave-3

# -----------------------------------------------------------
# Réseau MetalLB (Load Balancer)
# -----------------------------------------------------------
LB_POOL_START=192.168.1.100
LB_POOL_END=192.168.1.105
LB_INGRESS_IP=192.168.1.100     # IP assignée à ingress-nginx

# -----------------------------------------------------------
# Réseau Kubernetes
# -----------------------------------------------------------
POD_CIDR=10.244.0.0/16          # Flannel VXLAN
SERVICE_CIDR=10.96.0.0/12
CLUSTER_DNS=10.96.0.10
CLUSTER_DOMAIN=cluster.local

# -----------------------------------------------------------
# Versions des composants
# -----------------------------------------------------------
K8S_VERSION=1.30.14-1.1
CONTAINERD_VERSION=2.2.0-2~ubuntu.22.04~jammy

# -----------------------------------------------------------
# Domaines d'accès (Ingress)
# -----------------------------------------------------------
DOMAIN_FRONTEND=algohive.local
DOMAIN_API=api.algohive.local
DOMAIN_BEEHUB=beehub.algohive.local
DOMAIN_GRAFANA=grafana.frd75.local
DOMAIN_KUBEVIEW=kubeview.algohive.local
